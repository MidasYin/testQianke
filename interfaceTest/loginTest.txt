*** Settings ***
Resource          common.txt    # 常量

*** Variables ***

*** Test Cases ***
Getelement
    [Documentation]    登录返回的useid_token类型，后续用于加密
    ${dict}    checkyuansu    ${mobile}    ${pwd}
    log    ${dict}
    ${token}    Set Variable    ${dict['token']}
    ${userid}    Set Variable    ${dict['userid']}
    Set Suite Variable    ${token}
    Set Suite Variable    ${userid}

selectByUserflow
    ${header}    Create Dictionary    token=${token}
    Create Session    api    https://www.kg.com    ${header}
    ${dict}    Create Dictionary    userId=${userid}    currentPage=${id}
    ${base64}    Base 64 Encode    ${dict}
    log    ${base64}
    ${sign}    Convert To Md5    ${base64}    ${token}
    ${dict}    Create Dictionary    data=${base64}    sign=${sign}
    log    ${dict}
    ${response}    Post Request    api    /accountFlow/selectByUserflow    params=${dict}
    Should Be Equal As Strings    ${response.status_code}    200
    ${txt}    Set Variable    ${response.json()}
    log    ${txt}
    Should Be Equal    ${txt['message']}    成功
